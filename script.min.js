const input=document.querySelector("input"),result=document.querySelector(".result"),errorDiv=document.querySelector(".error"),pleaseWait=document.createElement("span");pleaseWait.innerText="Please wait...";const noResult=document.createElement("span");function createListElement(e){const t=document.createElement("li");return t.innerHTML=`${e.artistName} : ${e.trackName}`,t}function displayError(e){result.innerHTML="";const t=document.createElement("span");t.innerText="Something went wrong! "+e.message,errorDiv.appendChild(t)}noResult.innerText="No results",input.addEventListener("keyup",function(e){console.log("Search value",e.target.value),errorDiv.innerHTML="",result.appendChild(pleaseWait),fetch("https://itunes.apple.com/search?&entity=song&term="+e.target.value).then(e=>e.json()).then(e=>{result.innerHTML="",0===e.resultCount?result.appendChild(noResult):e.results.forEach(e=>{const t=createListElement(e);result.appendChild(t)})}).catch(e=>displayError(e))});